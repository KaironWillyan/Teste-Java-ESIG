<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Login - ESIG Desafio</title>
    <style type="text/css">
        body { background-color: #f4f4f4; font-family: Arial, sans-serif; }
        .login-panel { width: 350px; margin: 10% auto; }
        .ui-panel-titlebar { font-size: 1.5em !important; }
    </style>
</h:head>
<h:body>
	<p:dialog widgetVar="waitDlg" modal="true" draggable="false" closable="false"
	          showEffect="fade" hideEffect="fade" width="260">
	    <div style="display:flex; align-items:center; gap:10px; padding:8px;">
	        <i class="pi pi-spin pi-spinner" style="font-size:2rem;"></i>
	        <h:outputText value="Entrando, aguarde..." />
	    </div>
	</p:dialog>
	
	<p:ajaxStatus onstart="PF('waitDlg').show()" onsuccess="PF('waitDlg').hide()" />
	
    <p:growl id="messages" showDetail="true" life="10000" />

    <p:panel header="Acesso ao Sistema" styleClass="login-panel">
        <h:form id="formLogin">
            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank">
                
                <p:outputLabel for="email" value="Email"/>
                <p:inputText id="email" value="#{authBean.email}" required="true" 
                             requiredMessage="O campo Email é obrigatório." style="width: 100%;"/>
                
                <p:outputLabel for="senha" value="Senha"/>
                <p:password id="senha" value="#{authBean.senha}" required="true" 
                            requiredMessage="O campo Senha é obrigatório." style="width: 100%;"/>
                
                <p:commandButton value="Entrar" action="#{authBean.login}" 
								 update="formLogin messages" icon="pi pi-sign-in"
								 process="@form"  disableOnAjax="true" 
								 style="width: 100%;"/>
                                 
            </p:panelGrid>
        </h:form>
    </p:panel>
</h:body>
</html>